.\" Text automatically generated by txt2man
.TH connectcap 1 "06 October 2025" "connectcap-1.0.0" ""


.SH NAME
\fBconnectcap \fP- https CONNECT proxy that records network traffic for diagnostics.
\fB
.SH SYNOPSIS
.nf
.fam C
\fBconnectcap\fP [\fB-4\fP] [\fB-6\fP] [\fB-v\fP] [\fB-h\fP] \fB-l\fP \fIaddress:port\fP [/usr/bin/sendmail \fB-t\fP]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION

The \fBconnectcap\fP daemon implements an https CONNECT proxy that records
all outgoing traffic as pcap for later analysis in Wireshark.
.PP
No attempts are made to compensate for badly configured servers, the
idea being to provide predictable diagnostics for each connection.
.PP
.nf
.fam C
  The daemon will listen on all the addresses and ports specified.

  If a command is specified, it will be interpreted as a tool to
  send email. The summary and pcap file will be sent to the email
  address corresponding to the logged in user.

.fam T
.fi
.SH OPTIONS
.TP
.B
\fB-h\fP, \fB--help\fP
Display this help message.
.TP
.B
\fB-v\fP, \fB--version\fP
Display the version number.
.TP
.B
\fB-4\fP, \fB--source-ipv4\fP ip4
Source address for IPv4 connections. If specified before the \fB-6\fP option, attempt IPv4 first.
.TP
.B
\fB-6\fP, \fB--source-ipv6\fP ip6
Source address for IPv6 connections. If specified before the \fB-4\fP option, attempt IPv6 first.
.TP
.B
\fB-d\fP, \fB--directory\fP path
Path to the directory where capture files are saved. Defaults to the current directory.
.TP
.B
\fB-i\fP, \fB--interface\fP dev
Interface containing the source addresses. This interface will be used to capture traffic.
.TP
.B
\fB-l\fP, \fB--listen\fP [addr:]port
Listen to this IP address and port for proxy requests. If IP address is unspecified, binds to all IPs on the port specified.
.TP
.B
\fB-p\fP, \fB--passwd\fP path
File containing usernames and passwords.
.TP
.B
\fB-r\fP, \fB--realm\fP name
Name of the realm. Defaults to \fBconnectcap\fP.
.SH RETURN VALUE
The \fBconnectcap\fP daemon returns a non zero exit code on error.
.SH AUTHOR
Graham Leggett <minfrin@sharp.fm>
